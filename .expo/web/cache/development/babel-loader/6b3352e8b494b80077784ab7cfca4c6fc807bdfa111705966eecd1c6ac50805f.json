{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nimport React, { useState, useEffect } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport SafeAreaView from \"react-native-web/dist/exports/SafeAreaView\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport Modal from \"react-native-web/dist/exports/Modal\";\nimport useCustomAlert from \"../../hooks/useCustomAlert\";\nimport CustomAlert from \"../../components/CustomAlert\";\nimport apiService from \"../../services/apiService\";\nimport { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nvar AttendanceListScreen = function AttendanceListScreen(_ref) {\n  var isMenuVisible = _ref.isMenuVisible,\n    setIsMenuVisible = _ref.setIsMenuVisible,\n    onNavigate = _ref.onNavigate,\n    currentUser = _ref.currentUser,\n    onLogout = _ref.onLogout;\n  var getPadding = function getPadding() {\n    return 16;\n  };\n  var getMargin = function getMargin() {\n    return 12;\n  };\n  var getFontSize = function getFontSize(mobile) {\n    return mobile;\n  };\n  var getSpacing = function getSpacing(mobile) {\n    return mobile;\n  };\n  var _useCustomAlert = useCustomAlert(),\n    alert = _useCustomAlert.alert,\n    showSuccess = _useCustomAlert.showSuccess,\n    showError = _useCustomAlert.showError,\n    hideAlert = _useCustomAlert.hideAlert;\n  var _useState = useState(null),\n    _useState2 = _slicedToArray(_useState, 2),\n    classData = _useState2[0],\n    setClassData = _useState2[1];\n  var _useState3 = useState([]),\n    _useState4 = _slicedToArray(_useState3, 2),\n    students = _useState4[0],\n    setStudents = _useState4[1];\n  var _useState5 = useState({}),\n    _useState6 = _slicedToArray(_useState5, 2),\n    attendanceData = _useState6[0],\n    setAttendanceData = _useState6[1];\n  var _useState7 = useState(new Date().toISOString().split('T')[0]),\n    _useState8 = _slicedToArray(_useState7, 2),\n    selectedDate = _useState8[0],\n    setSelectedDate = _useState8[1];\n  var _useState9 = useState(false),\n    _useState0 = _slicedToArray(_useState9, 2),\n    showDatePicker = _useState0[0],\n    setShowDatePicker = _useState0[1];\n  var _useState1 = useState(false),\n    _useState10 = _slicedToArray(_useState1, 2),\n    loading = _useState10[0],\n    setLoading = _useState10[1];\n  var _useState11 = useState(false),\n    _useState12 = _slicedToArray(_useState11, 2),\n    attendanceTaken = _useState12[0],\n    setAttendanceTaken = _useState12[1];\n  useEffect(function () {\n    var params = window.navigationParams;\n    console.log('üîµ AttendanceListScreen - Par√¢metros recebidos:', params);\n    if (params && params.classData) {\n      console.log('üîµ AttendanceListScreen - classData:', params.classData);\n      console.log('üîµ AttendanceListScreen - classData.classId:', params.classData.classId);\n      console.log('üîµ AttendanceListScreen - classData.id:', params.classData.id);\n      setClassData(params.classData);\n    } else {\n      console.log('üî¥ AttendanceListScreen - Nenhum classData encontrado nos par√¢metros');\n    }\n  }, []);\n  useEffect(function () {\n    if (classData) {\n      console.log('üîµ AttendanceListScreen - Carregando alunos para classData:', classData);\n      loadStudents();\n    }\n  }, [classData]);\n  var loadStudents = function () {\n    var _ref2 = _asyncToGenerator(function* () {\n      if (!(classData != null && classData.classId)) {\n        console.log('üî¥ AttendanceListScreen - classData.classId n√£o encontrado:', classData);\n        return;\n      }\n      try {\n        setLoading(true);\n        console.log('üîµ AttendanceListScreen - Buscando alunos da turma:', classData.classId);\n        var response = yield apiService.getClassStudents(classData.classId);\n        console.log('üîµ AttendanceListScreen - Resposta da API:', response);\n        if (response.success) {\n          console.log('üîµ AttendanceListScreen - Dados brutos da API:', response.data);\n          var studentsData = response.data.map(function (classStudent) {\n            return classStudent.student;\n          });\n          console.log('üîµ AttendanceListScreen - Alunos extra√≠dos:', studentsData);\n          setStudents(studentsData);\n          var initialAttendance = {};\n          studentsData.forEach(function (student) {\n            initialAttendance[student.id] = 'present';\n          });\n          setAttendanceData(initialAttendance);\n          console.log('üîµ AttendanceListScreen - AttendanceData inicializado:', initialAttendance);\n        } else {\n          console.error('üî¥ AttendanceListScreen - Erro na resposta da API:', response);\n          showError('‚ùå Erro', 'Erro ao carregar alunos da turma');\n        }\n      } catch (error) {\n        console.error('üî¥ AttendanceListScreen - Erro ao carregar alunos:', error);\n        showError('‚ùå Erro', 'Erro ao carregar alunos da turma');\n      } finally {\n        setLoading(false);\n      }\n    });\n    return function loadStudents() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n  var loadAttendanceForDate = function () {\n    var _ref3 = _asyncToGenerator(function* (date) {\n      if (!(classData != null && classData.classId)) return;\n      try {\n        setLoading(true);\n        var response = yield apiService.getClassAttendance(classData.classId, date);\n        if (response.success) {\n          var attendanceList = response.data.attendanceList || [];\n          var newAttendanceData = {};\n          students.forEach(function (student) {\n            var attendance = attendanceList.find(function (a) {\n              return a.student.id === student.id;\n            });\n            if (attendance) {\n              newAttendanceData[student.id] = attendance.isPresent ? 'present' : 'absent';\n            } else {\n              newAttendanceData[student.id] = 'present';\n            }\n          });\n          setAttendanceData(newAttendanceData);\n          setAttendanceTaken(attendanceList.length > 0);\n        }\n      } catch (error) {\n        console.error('Erro ao carregar presen√ßas:', error);\n      } finally {\n        setLoading(false);\n      }\n    });\n    return function loadAttendanceForDate(_x) {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n  var handleDateChange = function handleDateChange(date) {\n    setSelectedDate(date);\n    setShowDatePicker(false);\n    loadAttendanceForDate(date);\n  };\n  var toggleAttendance = function toggleAttendance(studentId) {\n    setAttendanceData(function (prev) {\n      return _objectSpread(_objectSpread({}, prev), {}, _defineProperty({}, studentId, prev[studentId] === 'present' ? 'absent' : 'present'));\n    });\n  };\n  var takeAttendance = function () {\n    var _ref4 = _asyncToGenerator(function* () {\n      try {\n        setLoading(true);\n        if (!(classData != null && classData.id)) {\n          showError('‚ùå Erro', 'Aula n√£o est√° associada a uma turma');\n          return;\n        }\n        var attendances = students.map(function (student) {\n          return {\n            studentId: student.id,\n            isPresent: attendanceData[student.id] === 'present',\n            notes: null\n          };\n        });\n        console.log('üîµ AttendanceListScreen - Dados de presen√ßa preparados:', attendances);\n        var classDate = new Date(classData.date);\n        var lessonDate = classDate.toISOString().split('T')[0];\n        console.log('üîµ AttendanceListScreen - Usando lessonDate:', lessonDate, 'para aula:', classData.date);\n        var response = yield apiService.saveBatchAttendance(classData.id, attendances, lessonDate);\n        if (response.success) {\n          setAttendanceTaken(true);\n          showSuccess('Sucesso! üéâ', response.data.summary ? `Chamada realizada: ${response.data.summary.present} presentes, ${response.data.summary.absent} faltas` : 'Chamada realizada com sucesso!');\n        } else {\n          throw new Error(response.message || 'Erro ao realizar chamada');\n        }\n      } catch (error) {\n        console.error('Erro ao realizar chamada:', error);\n        showError('‚ùå Erro', error.message || 'Erro ao realizar chamada');\n      } finally {\n        setLoading(false);\n      }\n    });\n    return function takeAttendance() {\n      return _ref4.apply(this, arguments);\n    };\n  }();\n  var presentCount = Object.values(attendanceData).filter(function (status) {\n    return status === 'present';\n  }).length;\n  var absentCount = Object.values(attendanceData).filter(function (status) {\n    return status === 'absent';\n  }).length;\n  return _jsxs(SafeAreaView, {\n    style: styles.container,\n    children: [_jsxs(ScrollView, {\n      style: styles.scrollView,\n      showsVerticalScrollIndicator: false,\n      children: [_jsxs(View, {\n        style: styles.header,\n        children: [_jsx(TouchableOpacity, {\n          style: styles.backButton,\n          onPress: function onPress() {\n            return onNavigate('teacherClasses');\n          },\n          children: _jsx(Text, {\n            style: styles.backButtonText,\n            children: \"\\u2190 Voltar\"\n          })\n        }), _jsx(Text, {\n          style: styles.title,\n          children: \"Lista de Presen\\xE7a\"\n        }), classData && _jsxs(View, {\n          style: styles.classInfo,\n          children: [_jsx(Text, {\n            style: styles.className,\n            children: classData.name\n          }), _jsxs(Text, {\n            style: styles.classDetails,\n            children: [classData.school, \" - \", classData.grade]\n          })]\n        })]\n      }), _jsxs(View, {\n        style: styles.dateSection,\n        children: [_jsx(Text, {\n          style: styles.sectionTitle,\n          children: \"Data da Aula:\"\n        }), _jsxs(TouchableOpacity, {\n          style: styles.dateButton,\n          onPress: function onPress() {\n            return setShowDatePicker(true);\n          },\n          children: [_jsx(Text, {\n            style: styles.dateText,\n            children: new Date(selectedDate).toLocaleDateString('pt-BR')\n          }), _jsx(Text, {\n            style: styles.dateButtonText,\n            children: \"\\uD83D\\uDCC5\"\n          })]\n        })]\n      }), _jsx(View, {\n        style: styles.summarySection,\n        children: _jsxs(View, {\n          style: styles.summaryCard,\n          children: [_jsx(Text, {\n            style: styles.summaryTitle,\n            children: \"Resumo da Chamada\"\n          }), _jsxs(View, {\n            style: styles.summaryStats,\n            children: [_jsxs(View, {\n              style: styles.statItem,\n              children: [_jsx(Text, {\n                style: styles.statNumber,\n                children: presentCount\n              }), _jsx(Text, {\n                style: styles.statLabel,\n                children: \"Presentes\"\n              })]\n            }), _jsxs(View, {\n              style: styles.statItem,\n              children: [_jsx(Text, {\n                style: styles.statNumber,\n                children: absentCount\n              }), _jsx(Text, {\n                style: styles.statLabel,\n                children: \"Faltas\"\n              })]\n            }), _jsxs(View, {\n              style: styles.statItem,\n              children: [_jsx(Text, {\n                style: styles.statNumber,\n                children: students.length\n              }), _jsx(Text, {\n                style: styles.statLabel,\n                children: \"Total\"\n              })]\n            })]\n          })]\n        })\n      }), _jsxs(View, {\n        style: styles.studentsSection,\n        children: [_jsxs(Text, {\n          style: styles.sectionTitle,\n          children: [\"Alunos (\", students.length, \")\"]\n        }), students.map(function (student) {\n          return _jsxs(TouchableOpacity, {\n            style: [styles.studentCard, attendanceData[student.id] === 'absent' && styles.studentCardAbsent],\n            onPress: function onPress() {\n              return toggleAttendance(student.id);\n            },\n            children: [_jsxs(View, {\n              style: styles.studentInfo,\n              children: [_jsx(View, {\n                style: styles.studentAvatar,\n                children: _jsx(Text, {\n                  style: styles.avatarText,\n                  children: student.name.charAt(0).toUpperCase()\n                })\n              }), _jsxs(View, {\n                style: styles.studentDetails,\n                children: [_jsx(Text, {\n                  style: styles.studentName,\n                  children: student.name\n                }), _jsx(Text, {\n                  style: styles.studentEmail,\n                  children: student.email\n                })]\n              })]\n            }), _jsx(View, {\n              style: styles.attendanceStatus,\n              children: attendanceData[student.id] === 'present' ? _jsx(Text, {\n                style: styles.statusPresent,\n                children: \"\\u2705 Presente\"\n              }) : _jsx(Text, {\n                style: styles.statusAbsent,\n                children: \"\\u274C Falta\"\n              })\n            })]\n          }, student.id);\n        })]\n      }), _jsx(View, {\n        style: styles.actionSection,\n        children: _jsx(TouchableOpacity, {\n          style: [styles.takeAttendanceButton, loading && styles.takeAttendanceButtonDisabled],\n          onPress: takeAttendance,\n          disabled: loading,\n          children: _jsx(Text, {\n            style: styles.takeAttendanceButtonText,\n            children: loading ? 'Salvando...' : attendanceTaken ? 'Atualizar Chamada' : 'Realizar Chamada'\n          })\n        })\n      }), _jsx(View, {\n        style: {\n          height: 20\n        }\n      })]\n    }), _jsx(Modal, {\n      visible: showDatePicker,\n      transparent: true,\n      animationType: \"fade\",\n      onRequestClose: function onRequestClose() {\n        return setShowDatePicker(false);\n      },\n      children: _jsx(View, {\n        style: styles.modalOverlay,\n        children: _jsxs(View, {\n          style: styles.modalContent,\n          children: [_jsx(Text, {\n            style: styles.modalTitle,\n            children: \"Selecionar Data\"\n          }), _jsx(TextInput, {\n            style: styles.dateInput,\n            value: selectedDate,\n            onChangeText: setSelectedDate,\n            placeholder: \"YYYY-MM-DD\"\n          }), _jsxs(View, {\n            style: styles.modalButtons,\n            children: [_jsx(TouchableOpacity, {\n              style: styles.modalButton,\n              onPress: function onPress() {\n                return setShowDatePicker(false);\n              },\n              children: _jsx(Text, {\n                style: styles.modalButtonText,\n                children: \"Cancelar\"\n              })\n            }), _jsx(TouchableOpacity, {\n              style: [styles.modalButton, styles.modalButtonPrimary],\n              onPress: function onPress() {\n                return handleDateChange(selectedDate);\n              },\n              children: _jsx(Text, {\n                style: [styles.modalButtonText, styles.modalButtonTextPrimary],\n                children: \"Confirmar\"\n              })\n            })]\n          })]\n        })\n      })\n    }), _jsx(CustomAlert, {\n      visible: alert.visible,\n      title: alert.title,\n      message: alert.message,\n      type: alert.type,\n      onClose: hideAlert\n    })]\n  });\n};\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: '#E9EDEE'\n  },\n  scrollView: {\n    flex: 1\n  },\n  header: {\n    paddingHorizontal: 20,\n    paddingTop: 20,\n    paddingBottom: 10\n  },\n  backButton: {\n    marginBottom: 15\n  },\n  backButtonText: {\n    fontSize: 16,\n    color: '#F9BB55',\n    fontWeight: 'bold',\n    fontFamily: 'Poppins'\n  },\n  title: {\n    fontSize: 24,\n    fontWeight: 'bold',\n    color: '#000',\n    fontFamily: 'Poppins',\n    marginBottom: 10\n  },\n  classInfo: {\n    backgroundColor: '#FFFFFF',\n    padding: 15,\n    borderRadius: 10,\n    borderWidth: 1,\n    borderColor: '#D9D9D9'\n  },\n  className: {\n    fontSize: 18,\n    fontWeight: 'bold',\n    color: '#000',\n    fontFamily: 'Poppins',\n    marginBottom: 5\n  },\n  classDetails: {\n    fontSize: 14,\n    color: '#666',\n    fontFamily: 'Poppins'\n  },\n  dateSection: {\n    paddingHorizontal: 20,\n    paddingVertical: 15\n  },\n  sectionTitle: {\n    fontSize: 16,\n    fontWeight: 'bold',\n    color: '#000',\n    fontFamily: 'Poppins',\n    marginBottom: 10\n  },\n  dateButton: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'space-between',\n    backgroundColor: '#FFFFFF',\n    padding: 15,\n    borderRadius: 10,\n    borderWidth: 1,\n    borderColor: '#D9D9D9'\n  },\n  dateText: {\n    fontSize: 16,\n    color: '#000',\n    fontFamily: 'Poppins'\n  },\n  dateButtonText: {\n    fontSize: 20\n  },\n  summarySection: {\n    paddingHorizontal: 20,\n    paddingVertical: 15\n  },\n  summaryCard: {\n    backgroundColor: '#FFFFFF',\n    padding: 20,\n    borderRadius: 10,\n    borderWidth: 1,\n    borderColor: '#D9D9D9'\n  },\n  summaryTitle: {\n    fontSize: 16,\n    fontWeight: 'bold',\n    color: '#000',\n    fontFamily: 'Poppins',\n    marginBottom: 15,\n    textAlign: 'center'\n  },\n  summaryStats: {\n    flexDirection: 'row',\n    justifyContent: 'space-around'\n  },\n  statItem: {\n    alignItems: 'center'\n  },\n  statNumber: {\n    fontSize: 24,\n    fontWeight: 'bold',\n    color: '#F9BB55',\n    fontFamily: 'Poppins'\n  },\n  statLabel: {\n    fontSize: 14,\n    color: '#666',\n    fontFamily: 'Poppins',\n    marginTop: 5\n  },\n  studentsSection: {\n    paddingHorizontal: 20,\n    paddingVertical: 15\n  },\n  studentCard: {\n    backgroundColor: '#FFFFFF',\n    padding: 15,\n    borderRadius: 10,\n    borderWidth: 1,\n    borderColor: '#D9D9D9',\n    marginBottom: 10,\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'space-between'\n  },\n  studentCardAbsent: {\n    backgroundColor: '#FFF5F5',\n    borderColor: '#FFE5E5'\n  },\n  studentInfo: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    flex: 1\n  },\n  studentAvatar: {\n    width: 40,\n    height: 40,\n    borderRadius: 20,\n    backgroundColor: '#F9BB55',\n    alignItems: 'center',\n    justifyContent: 'center',\n    marginRight: 15\n  },\n  avatarText: {\n    fontSize: 16,\n    fontWeight: 'bold',\n    color: '#000',\n    fontFamily: 'Poppins'\n  },\n  studentDetails: {\n    flex: 1\n  },\n  studentName: {\n    fontSize: 16,\n    fontWeight: 'bold',\n    color: '#000',\n    fontFamily: 'Poppins',\n    marginBottom: 2\n  },\n  studentEmail: {\n    fontSize: 12,\n    color: '#666',\n    fontFamily: 'Poppins'\n  },\n  attendanceStatus: {\n    alignItems: 'center'\n  },\n  statusPresent: {\n    fontSize: 14,\n    fontWeight: 'bold',\n    color: '#4CAF50',\n    fontFamily: 'Poppins'\n  },\n  statusAbsent: {\n    fontSize: 14,\n    fontWeight: 'bold',\n    color: '#E53E3E',\n    fontFamily: 'Poppins'\n  },\n  actionSection: {\n    paddingHorizontal: 20,\n    paddingVertical: 20\n  },\n  takeAttendanceButton: {\n    backgroundColor: '#F9BB55',\n    padding: 16,\n    borderRadius: 10,\n    alignItems: 'center'\n  },\n  takeAttendanceButtonDisabled: {\n    backgroundColor: '#D9D9D9'\n  },\n  takeAttendanceButtonText: {\n    fontSize: 16,\n    fontWeight: 'bold',\n    color: '#000',\n    fontFamily: 'Poppins'\n  },\n  modalOverlay: {\n    flex: 1,\n    backgroundColor: 'rgba(0, 0, 0, 0.5)',\n    justifyContent: 'center',\n    alignItems: 'center'\n  },\n  modalContent: {\n    backgroundColor: '#FFFFFF',\n    padding: 20,\n    borderRadius: 10,\n    width: '80%',\n    maxWidth: 400\n  },\n  modalTitle: {\n    fontSize: 18,\n    fontWeight: 'bold',\n    color: '#000',\n    fontFamily: 'Poppins',\n    marginBottom: 15,\n    textAlign: 'center'\n  },\n  dateInput: {\n    borderWidth: 1,\n    borderColor: '#D9D9D9',\n    borderRadius: 8,\n    padding: 12,\n    fontSize: 16,\n    fontFamily: 'Poppins',\n    marginBottom: 20\n  },\n  modalButtons: {\n    flexDirection: 'row',\n    justifyContent: 'space-between'\n  },\n  modalButton: {\n    flex: 1,\n    padding: 12,\n    borderRadius: 8,\n    alignItems: 'center',\n    marginHorizontal: 5\n  },\n  modalButtonPrimary: {\n    backgroundColor: '#F9BB55'\n  },\n  modalButtonText: {\n    fontSize: 14,\n    color: '#666',\n    fontFamily: 'Poppins'\n  },\n  modalButtonTextPrimary: {\n    color: '#000',\n    fontWeight: 'bold'\n  }\n});\nexport default AttendanceListScreen;","map":{"version":3,"names":["React","useState","useEffect","View","Text","StyleSheet","TouchableOpacity","ScrollView","Alert","SafeAreaView","TextInput","Modal","useCustomAlert","CustomAlert","apiService","jsx","_jsx","jsxs","_jsxs","AttendanceListScreen","_ref","isMenuVisible","setIsMenuVisible","onNavigate","currentUser","onLogout","getPadding","getMargin","getFontSize","mobile","getSpacing","_useCustomAlert","alert","showSuccess","showError","hideAlert","_useState","_useState2","_slicedToArray","classData","setClassData","_useState3","_useState4","students","setStudents","_useState5","_useState6","attendanceData","setAttendanceData","_useState7","Date","toISOString","split","_useState8","selectedDate","setSelectedDate","_useState9","_useState0","showDatePicker","setShowDatePicker","_useState1","_useState10","loading","setLoading","_useState11","_useState12","attendanceTaken","setAttendanceTaken","params","window","navigationParams","console","log","classId","id","loadStudents","_ref2","_asyncToGenerator","response","getClassStudents","success","data","studentsData","map","classStudent","student","initialAttendance","forEach","error","apply","arguments","loadAttendanceForDate","_ref3","date","getClassAttendance","attendanceList","newAttendanceData","attendance","find","a","isPresent","length","_x","handleDateChange","toggleAttendance","studentId","prev","_objectSpread","_defineProperty","takeAttendance","_ref4","attendances","notes","classDate","lessonDate","saveBatchAttendance","summary","present","absent","Error","message","presentCount","Object","values","filter","status","absentCount","style","styles","container","children","scrollView","showsVerticalScrollIndicator","header","backButton","onPress","backButtonText","title","classInfo","className","name","classDetails","school","grade","dateSection","sectionTitle","dateButton","dateText","toLocaleDateString","dateButtonText","summarySection","summaryCard","summaryTitle","summaryStats","statItem","statNumber","statLabel","studentsSection","studentCard","studentCardAbsent","studentInfo","studentAvatar","avatarText","charAt","toUpperCase","studentDetails","studentName","studentEmail","email","attendanceStatus","statusPresent","statusAbsent","actionSection","takeAttendanceButton","takeAttendanceButtonDisabled","disabled","takeAttendanceButtonText","height","visible","transparent","animationType","onRequestClose","modalOverlay","modalContent","modalTitle","dateInput","value","onChangeText","placeholder","modalButtons","modalButton","modalButtonText","modalButtonPrimary","modalButtonTextPrimary","type","onClose","create","flex","backgroundColor","paddingHorizontal","paddingTop","paddingBottom","marginBottom","fontSize","color","fontWeight","fontFamily","padding","borderRadius","borderWidth","borderColor","paddingVertical","flexDirection","alignItems","justifyContent","textAlign","marginTop","width","marginRight","maxWidth","marginHorizontal"],"sources":["C:/Users/lukag/OneDrive/Documentos/Projetos/Muvz_App/src/screens/teacher/AttendanceListScreen.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport {\r\n  View,\r\n  Text,\r\n  StyleSheet,\r\n  TouchableOpacity,\r\n  ScrollView,\r\n  Alert,\r\n  SafeAreaView,\r\n  TextInput,\r\n  Modal,\r\n} from 'react-native';\r\nimport useCustomAlert from '../../hooks/useCustomAlert';\r\nimport CustomAlert from '../../components/CustomAlert';\r\nimport apiService from '../../services/apiService';\r\n\r\nconst AttendanceListScreen = ({ isMenuVisible, setIsMenuVisible, onNavigate, currentUser, onLogout }) => {\r\n  // Valores fixos para evitar problemas com useResponsive\r\n  const getPadding = () => 16;\r\n  const getMargin = () => 12;\r\n  const getFontSize = (mobile) => mobile;\r\n  const getSpacing = (mobile) => mobile;\r\n  const { alert, showSuccess, showError, hideAlert } = useCustomAlert();\r\n  \r\n  const [classData, setClassData] = useState(null);\r\n  const [students, setStudents] = useState([]);\r\n  const [attendanceData, setAttendanceData] = useState({});\r\n  const [selectedDate, setSelectedDate] = useState(new Date().toISOString().split('T')[0]);\r\n  const [showDatePicker, setShowDatePicker] = useState(false);\r\n  const [loading, setLoading] = useState(false);\r\n  const [attendanceTaken, setAttendanceTaken] = useState(false);\r\n\r\n  useEffect(() => {\r\n    // Obter dados da turma dos par√¢metros de navega√ß√£o\r\n    const params = window.navigationParams;\r\n    console.log('üîµ AttendanceListScreen - Par√¢metros recebidos:', params);\r\n    \r\n    if (params && params.classData) {\r\n      console.log('üîµ AttendanceListScreen - classData:', params.classData);\r\n      console.log('üîµ AttendanceListScreen - classData.classId:', params.classData.classId);\r\n      console.log('üîµ AttendanceListScreen - classData.id:', params.classData.id);\r\n      setClassData(params.classData);\r\n    } else {\r\n      console.log('üî¥ AttendanceListScreen - Nenhum classData encontrado nos par√¢metros');\r\n    }\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (classData) {\r\n      console.log('üîµ AttendanceListScreen - Carregando alunos para classData:', classData);\r\n      loadStudents();\r\n    }\r\n  }, [classData]);\r\n\r\n  const loadStudents = async () => {\r\n    if (!classData?.classId) {\r\n      console.log('üî¥ AttendanceListScreen - classData.classId n√£o encontrado:', classData);\r\n      return;\r\n    }\r\n    \r\n    try {\r\n      setLoading(true);\r\n      console.log('üîµ AttendanceListScreen - Buscando alunos da turma:', classData.classId);\r\n      const response = await apiService.getClassStudents(classData.classId);\r\n      console.log('üîµ AttendanceListScreen - Resposta da API:', response);\r\n      \r\n      if (response.success) {\r\n        console.log('üîµ AttendanceListScreen - Dados brutos da API:', response.data);\r\n        \r\n        // A API retorna classStudents com student dentro, precisamos extrair apenas os students\r\n        const studentsData = response.data.map(classStudent => classStudent.student);\r\n        console.log('üîµ AttendanceListScreen - Alunos extra√≠dos:', studentsData);\r\n        \r\n        setStudents(studentsData);\r\n        // Inicializar todos como presentes por padr√£o\r\n        const initialAttendance = {};\r\n        studentsData.forEach(student => {\r\n          initialAttendance[student.id] = 'present';\r\n        });\r\n        setAttendanceData(initialAttendance);\r\n        console.log('üîµ AttendanceListScreen - AttendanceData inicializado:', initialAttendance);\r\n      } else {\r\n        console.error('üî¥ AttendanceListScreen - Erro na resposta da API:', response);\r\n        showError('‚ùå Erro', 'Erro ao carregar alunos da turma');\r\n      }\r\n    } catch (error) {\r\n      console.error('üî¥ AttendanceListScreen - Erro ao carregar alunos:', error);\r\n      showError('‚ùå Erro', 'Erro ao carregar alunos da turma');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const loadAttendanceForDate = async (date) => {\r\n    if (!classData?.classId) return;\r\n    \r\n    try {\r\n      setLoading(true);\r\n      const response = await apiService.getClassAttendance(classData.classId, date);\r\n      \r\n      if (response.success) {\r\n        const attendanceList = response.data.attendanceList || [];\r\n        const newAttendanceData = {};\r\n        \r\n        students.forEach(student => {\r\n          const attendance = attendanceList.find(a => a.student.id === student.id);\r\n          if (attendance) {\r\n            newAttendanceData[student.id] = attendance.isPresent ? 'present' : 'absent';\r\n          } else {\r\n            newAttendanceData[student.id] = 'present'; // Default\r\n          }\r\n        });\r\n        \r\n        setAttendanceData(newAttendanceData);\r\n        setAttendanceTaken(attendanceList.length > 0);\r\n      }\r\n    } catch (error) {\r\n      console.error('Erro ao carregar presen√ßas:', error);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleDateChange = (date) => {\r\n    setSelectedDate(date);\r\n    setShowDatePicker(false);\r\n    loadAttendanceForDate(date);\r\n  };\r\n\r\n  const toggleAttendance = (studentId) => {\r\n    setAttendanceData(prev => ({\r\n      ...prev,\r\n      [studentId]: prev[studentId] === 'present' ? 'absent' : 'present'\r\n    }));\r\n  };\r\n\r\n  const takeAttendance = async () => {\r\n    try {\r\n      setLoading(true);\r\n      \r\n      if (!classData?.id) {\r\n        showError('‚ùå Erro', 'Aula n√£o est√° associada a uma turma');\r\n        return;\r\n      }\r\n\r\n      // Preparar dados de presen√ßa\r\n      const attendances = students.map(student => ({\r\n        studentId: student.id,\r\n        isPresent: attendanceData[student.id] === 'present',\r\n        notes: null\r\n      }));\r\n      \r\n      console.log('üîµ AttendanceListScreen - Dados de presen√ßa preparados:', attendances);\r\n\r\n      // Usar a data da aula ao inv√©s da data selecionada pelo usu√°rio\r\n      // CORRE√á√ÉO: Usar a data da aula convertida corretamente\r\n      const classDate = new Date(classData.date);\r\n      const lessonDate = classDate.toISOString().split('T')[0];\r\n      console.log('üîµ AttendanceListScreen - Usando lessonDate:', lessonDate, 'para aula:', classData.date);\r\n      \r\n      const response = await apiService.saveBatchAttendance(classData.id, attendances, lessonDate);\r\n      \r\n      if (response.success) {\r\n        setAttendanceTaken(true);\r\n        showSuccess('Sucesso! üéâ', response.data.summary ? \r\n          `Chamada realizada: ${response.data.summary.present} presentes, ${response.data.summary.absent} faltas` :\r\n          'Chamada realizada com sucesso!'\r\n        );\r\n      } else {\r\n        throw new Error(response.message || 'Erro ao realizar chamada');\r\n      }\r\n    } catch (error) {\r\n      console.error('Erro ao realizar chamada:', error);\r\n      showError('‚ùå Erro', error.message || 'Erro ao realizar chamada');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const presentCount = Object.values(attendanceData).filter(status => status === 'present').length;\r\n  const absentCount = Object.values(attendanceData).filter(status => status === 'absent').length;\r\n\r\n  return (\r\n    <SafeAreaView style={styles.container}>\r\n      <ScrollView style={styles.scrollView} showsVerticalScrollIndicator={false}>\r\n        {/* Header */}\r\n        <View style={styles.header}>\r\n          <TouchableOpacity\r\n            style={styles.backButton}\r\n            onPress={() => onNavigate('teacherClasses')}\r\n          >\r\n            <Text style={styles.backButtonText}>‚Üê Voltar</Text>\r\n          </TouchableOpacity>\r\n          \r\n          <Text style={styles.title}>\r\n            Lista de Presen√ßa\r\n          </Text>\r\n          \r\n          {classData && (\r\n            <View style={styles.classInfo}>\r\n              <Text style={styles.className}>\r\n                {classData.name}\r\n              </Text>\r\n              <Text style={styles.classDetails}>\r\n                {classData.school} - {classData.grade}\r\n              </Text>\r\n            </View>\r\n          )}\r\n        </View>\r\n\r\n        {/* Date Selector */}\r\n        <View style={styles.dateSection}>\r\n          <Text style={styles.sectionTitle}>\r\n            Data da Aula:\r\n          </Text>\r\n          \r\n          <TouchableOpacity\r\n            style={styles.dateButton}\r\n            onPress={() => setShowDatePicker(true)}\r\n          >\r\n            <Text style={styles.dateText}>\r\n              {new Date(selectedDate).toLocaleDateString('pt-BR')}\r\n            </Text>\r\n            <Text style={styles.dateButtonText}>üìÖ</Text>\r\n          </TouchableOpacity>\r\n        </View>\r\n\r\n        {/* Summary */}\r\n        <View style={styles.summarySection}>\r\n          <View style={styles.summaryCard}>\r\n            <Text style={styles.summaryTitle}>\r\n              Resumo da Chamada\r\n            </Text>\r\n            <View style={styles.summaryStats}>\r\n              <View style={styles.statItem}>\r\n                <Text style={styles.statNumber}>\r\n                  {presentCount}\r\n                </Text>\r\n                <Text style={styles.statLabel}>\r\n                  Presentes\r\n                </Text>\r\n              </View>\r\n              <View style={styles.statItem}>\r\n                <Text style={styles.statNumber}>\r\n                  {absentCount}\r\n                </Text>\r\n                <Text style={styles.statLabel}>\r\n                  Faltas\r\n                </Text>\r\n              </View>\r\n              <View style={styles.statItem}>\r\n                <Text style={styles.statNumber}>\r\n                  {students.length}\r\n                </Text>\r\n                <Text style={styles.statLabel}>\r\n                  Total\r\n                </Text>\r\n              </View>\r\n            </View>\r\n          </View>\r\n        </View>\r\n\r\n        {/* Students List */}\r\n        <View style={styles.studentsSection}>\r\n          <Text style={styles.sectionTitle}>\r\n            Alunos ({students.length})\r\n          </Text>\r\n          \r\n          {students.map((student) => (\r\n            <TouchableOpacity\r\n              key={student.id}\r\n              style={[\r\n                styles.studentCard,\r\n                attendanceData[student.id] === 'absent' && styles.studentCardAbsent\r\n              ]}\r\n              onPress={() => toggleAttendance(student.id)}\r\n            >\r\n              <View style={styles.studentInfo}>\r\n                <View style={styles.studentAvatar}>\r\n                  <Text style={styles.avatarText}>\r\n                    {student.name.charAt(0).toUpperCase()}\r\n                  </Text>\r\n                </View>\r\n                <View style={styles.studentDetails}>\r\n                  <Text style={styles.studentName}>\r\n                    {student.name}\r\n                  </Text>\r\n                  <Text style={styles.studentEmail}>\r\n                    {student.email}\r\n                  </Text>\r\n                </View>\r\n              </View>\r\n              \r\n              <View style={styles.attendanceStatus}>\r\n                {attendanceData[student.id] === 'present' ? (\r\n                  <Text style={styles.statusPresent}>\r\n                    ‚úÖ Presente\r\n                  </Text>\r\n                ) : (\r\n                  <Text style={styles.statusAbsent}>\r\n                    ‚ùå Falta\r\n                  </Text>\r\n                )}\r\n              </View>\r\n            </TouchableOpacity>\r\n          ))}\r\n        </View>\r\n\r\n        {/* Action Button */}\r\n        <View style={styles.actionSection}>\r\n          <TouchableOpacity\r\n            style={[\r\n              styles.takeAttendanceButton,\r\n              loading && styles.takeAttendanceButtonDisabled\r\n            ]}\r\n            onPress={takeAttendance}\r\n            disabled={loading}\r\n          >\r\n            <Text style={styles.takeAttendanceButtonText}>\r\n              {loading ? 'Salvando...' : attendanceTaken ? 'Atualizar Chamada' : 'Realizar Chamada'}\r\n            </Text>\r\n          </TouchableOpacity>\r\n        </View>\r\n\r\n        {/* Spacing */}\r\n        <View style={{ height: 20 }} />\r\n      </ScrollView>\r\n\r\n      {/* Date Picker Modal */}\r\n      <Modal\r\n        visible={showDatePicker}\r\n        transparent={true}\r\n        animationType=\"fade\"\r\n        onRequestClose={() => setShowDatePicker(false)}\r\n      >\r\n        <View style={styles.modalOverlay}>\r\n          <View style={styles.modalContent}>\r\n            <Text style={styles.modalTitle}>\r\n              Selecionar Data\r\n            </Text>\r\n            \r\n            <TextInput\r\n              style={styles.dateInput}\r\n              value={selectedDate}\r\n              onChangeText={setSelectedDate}\r\n              placeholder=\"YYYY-MM-DD\"\r\n            />\r\n            \r\n            <View style={styles.modalButtons}>\r\n              <TouchableOpacity\r\n                style={styles.modalButton}\r\n                onPress={() => setShowDatePicker(false)}\r\n              >\r\n                <Text style={styles.modalButtonText}>\r\n                  Cancelar\r\n                </Text>\r\n              </TouchableOpacity>\r\n              \r\n              <TouchableOpacity\r\n                style={[styles.modalButton, styles.modalButtonPrimary]}\r\n                onPress={() => handleDateChange(selectedDate)}\r\n              >\r\n                <Text style={[styles.modalButtonText, styles.modalButtonTextPrimary]}>\r\n                  Confirmar\r\n                </Text>\r\n              </TouchableOpacity>\r\n            </View>\r\n          </View>\r\n        </View>\r\n      </Modal>\r\n\r\n      <CustomAlert\r\n        visible={alert.visible}\r\n        title={alert.title}\r\n        message={alert.message}\r\n        type={alert.type}\r\n        onClose={hideAlert}\r\n      />\r\n    </SafeAreaView>\r\n  );\r\n};\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    backgroundColor: '#E9EDEE',\r\n  },\r\n  scrollView: {\r\n    flex: 1,\r\n  },\r\n  header: {\r\n    paddingHorizontal: 20,\r\n    paddingTop: 20,\r\n    paddingBottom: 10,\r\n  },\r\n  backButton: {\r\n    marginBottom: 15,\r\n  },\r\n  backButtonText: {\r\n    fontSize: 16,\r\n    color: '#F9BB55',\r\n    fontWeight: 'bold',\r\n    fontFamily: 'Poppins',\r\n  },\r\n  title: {\r\n    fontSize: 24,\r\n    fontWeight: 'bold',\r\n    color: '#000',\r\n    fontFamily: 'Poppins',\r\n    marginBottom: 10,\r\n  },\r\n  classInfo: {\r\n    backgroundColor: '#FFFFFF',\r\n    padding: 15,\r\n    borderRadius: 10,\r\n    borderWidth: 1,\r\n    borderColor: '#D9D9D9',\r\n  },\r\n  className: {\r\n    fontSize: 18,\r\n    fontWeight: 'bold',\r\n    color: '#000',\r\n    fontFamily: 'Poppins',\r\n    marginBottom: 5,\r\n  },\r\n  classDetails: {\r\n    fontSize: 14,\r\n    color: '#666',\r\n    fontFamily: 'Poppins',\r\n  },\r\n  dateSection: {\r\n    paddingHorizontal: 20,\r\n    paddingVertical: 15,\r\n  },\r\n  sectionTitle: {\r\n    fontSize: 16,\r\n    fontWeight: 'bold',\r\n    color: '#000',\r\n    fontFamily: 'Poppins',\r\n    marginBottom: 10,\r\n  },\r\n  dateButton: {\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n    justifyContent: 'space-between',\r\n    backgroundColor: '#FFFFFF',\r\n    padding: 15,\r\n    borderRadius: 10,\r\n    borderWidth: 1,\r\n    borderColor: '#D9D9D9',\r\n  },\r\n  dateText: {\r\n    fontSize: 16,\r\n    color: '#000',\r\n    fontFamily: 'Poppins',\r\n  },\r\n  dateButtonText: {\r\n    fontSize: 20,\r\n  },\r\n  summarySection: {\r\n    paddingHorizontal: 20,\r\n    paddingVertical: 15,\r\n  },\r\n  summaryCard: {\r\n    backgroundColor: '#FFFFFF',\r\n    padding: 20,\r\n    borderRadius: 10,\r\n    borderWidth: 1,\r\n    borderColor: '#D9D9D9',\r\n  },\r\n  summaryTitle: {\r\n    fontSize: 16,\r\n    fontWeight: 'bold',\r\n    color: '#000',\r\n    fontFamily: 'Poppins',\r\n    marginBottom: 15,\r\n    textAlign: 'center',\r\n  },\r\n  summaryStats: {\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-around',\r\n  },\r\n  statItem: {\r\n    alignItems: 'center',\r\n  },\r\n  statNumber: {\r\n    fontSize: 24,\r\n    fontWeight: 'bold',\r\n    color: '#F9BB55',\r\n    fontFamily: 'Poppins',\r\n  },\r\n  statLabel: {\r\n    fontSize: 14,\r\n    color: '#666',\r\n    fontFamily: 'Poppins',\r\n    marginTop: 5,\r\n  },\r\n  studentsSection: {\r\n    paddingHorizontal: 20,\r\n    paddingVertical: 15,\r\n  },\r\n  studentCard: {\r\n    backgroundColor: '#FFFFFF',\r\n    padding: 15,\r\n    borderRadius: 10,\r\n    borderWidth: 1,\r\n    borderColor: '#D9D9D9',\r\n    marginBottom: 10,\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n    justifyContent: 'space-between',\r\n  },\r\n  studentCardAbsent: {\r\n    backgroundColor: '#FFF5F5',\r\n    borderColor: '#FFE5E5',\r\n  },\r\n  studentInfo: {\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n    flex: 1,\r\n  },\r\n  studentAvatar: {\r\n    width: 40,\r\n    height: 40,\r\n    borderRadius: 20,\r\n    backgroundColor: '#F9BB55',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    marginRight: 15,\r\n  },\r\n  avatarText: {\r\n    fontSize: 16,\r\n    fontWeight: 'bold',\r\n    color: '#000',\r\n    fontFamily: 'Poppins',\r\n  },\r\n  studentDetails: {\r\n    flex: 1,\r\n  },\r\n  studentName: {\r\n    fontSize: 16,\r\n    fontWeight: 'bold',\r\n    color: '#000',\r\n    fontFamily: 'Poppins',\r\n    marginBottom: 2,\r\n  },\r\n  studentEmail: {\r\n    fontSize: 12,\r\n    color: '#666',\r\n    fontFamily: 'Poppins',\r\n  },\r\n  attendanceStatus: {\r\n    alignItems: 'center',\r\n  },\r\n  statusPresent: {\r\n    fontSize: 14,\r\n    fontWeight: 'bold',\r\n    color: '#4CAF50',\r\n    fontFamily: 'Poppins',\r\n  },\r\n  statusAbsent: {\r\n    fontSize: 14,\r\n    fontWeight: 'bold',\r\n    color: '#E53E3E',\r\n    fontFamily: 'Poppins',\r\n  },\r\n  actionSection: {\r\n    paddingHorizontal: 20,\r\n    paddingVertical: 20,\r\n  },\r\n  takeAttendanceButton: {\r\n    backgroundColor: '#F9BB55',\r\n    padding: 16,\r\n    borderRadius: 10,\r\n    alignItems: 'center',\r\n  },\r\n  takeAttendanceButtonDisabled: {\r\n    backgroundColor: '#D9D9D9',\r\n  },\r\n  takeAttendanceButtonText: {\r\n    fontSize: 16,\r\n    fontWeight: 'bold',\r\n    color: '#000',\r\n    fontFamily: 'Poppins',\r\n  },\r\n  modalOverlay: {\r\n    flex: 1,\r\n    backgroundColor: 'rgba(0, 0, 0, 0.5)',\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n  },\r\n  modalContent: {\r\n    backgroundColor: '#FFFFFF',\r\n    padding: 20,\r\n    borderRadius: 10,\r\n    width: '80%',\r\n    maxWidth: 400,\r\n  },\r\n  modalTitle: {\r\n    fontSize: 18,\r\n    fontWeight: 'bold',\r\n    color: '#000',\r\n    fontFamily: 'Poppins',\r\n    marginBottom: 15,\r\n    textAlign: 'center',\r\n  },\r\n  dateInput: {\r\n    borderWidth: 1,\r\n    borderColor: '#D9D9D9',\r\n    borderRadius: 8,\r\n    padding: 12,\r\n    fontSize: 16,\r\n    fontFamily: 'Poppins',\r\n    marginBottom: 20,\r\n  },\r\n  modalButtons: {\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-between',\r\n  },\r\n  modalButton: {\r\n    flex: 1,\r\n    padding: 12,\r\n    borderRadius: 8,\r\n    alignItems: 'center',\r\n    marginHorizontal: 5,\r\n  },\r\n  modalButtonPrimary: {\r\n    backgroundColor: '#F9BB55',\r\n  },\r\n  modalButtonText: {\r\n    fontSize: 14,\r\n    color: '#666',\r\n    fontFamily: 'Poppins',\r\n  },\r\n  modalButtonTextPrimary: {\r\n    color: '#000',\r\n    fontWeight: 'bold',\r\n  },\r\n});\r\n\r\nexport default AttendanceListScreen;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}