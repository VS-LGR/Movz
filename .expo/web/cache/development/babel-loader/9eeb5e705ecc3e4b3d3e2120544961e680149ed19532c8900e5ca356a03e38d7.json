{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nimport React, { useState, useEffect } from 'react';\nimport { StatusBar } from 'expo-status-bar';\nimport Storage from \"./utils/storage\";\nimport apiService from \"./services/apiService\";\nimport useCustomAlert from \"./hooks/useCustomAlert\";\nimport CustomAlert from \"./components/CustomAlert\";\nimport LoginScreen from \"./screens/auth/LoginScreen\";\nimport HomeScreen from \"./screens/student/HomeScreen\";\nimport MyClassScreen from \"./screens/student/MyClassScreen\";\nimport StudentScoresScreen from \"./screens/student/StudentScoresScreen\";\nimport AttendanceScreen from \"./screens/student/AttendanceScreen\";\nimport RankingScreen from \"./screens/student/RankingScreen\";\nimport TutorialScreen from \"./screens/student/TutorialScreen\";\nimport ChatScreen from \"./screens/student/ChatScreen\";\nimport RegisterScreen from \"./screens/auth/RegisterScreen\";\nimport TeacherRegisterScreen from \"./screens/auth/TeacherRegisterScreen\";\nimport InstitutionRegisterScreen from \"./screens/auth/InstitutionRegisterScreen\";\nimport InstitutionLoginScreen from \"./screens/auth/InstitutionLoginScreen\";\nimport InstitutionDashboardScreen from \"./screens/institution/InstitutionDashboardScreen\";\nimport TeacherClassesScreen from \"./screens/teacher/TeacherClassesScreen\";\nimport MyClassesScreen from \"./screens/teacher/MyClassesScreen\";\nimport TeacherScheduleScreen from \"./screens/teacher/TeacherScheduleScreen\";\nimport ClassManagementScreen from \"./screens/teacher/ClassManagementScreen\";\nimport CreateClassScreen from \"./screens/teacher/CreateClassScreen\";\nimport ClassScreen from \"./screens/teacher/ClassScreen\";\nimport AchievementsScreen from \"./screens/student/AchievementsScreen\";\nimport MedalsScreen from \"./screens/student/MedalsScreen\";\nimport { jsx as _jsx, Fragment as _Fragment, jsxs as _jsxs } from \"react/jsx-runtime\";\nexport default function App() {\n  var _useState = useState('login'),\n    _useState2 = _slicedToArray(_useState, 2),\n    currentScreen = _useState2[0],\n    setCurrentScreen = _useState2[1];\n  var _useState3 = useState(false),\n    _useState4 = _slicedToArray(_useState3, 2),\n    isAuthenticated = _useState4[0],\n    setIsAuthenticated = _useState4[1];\n  var _useState5 = useState(null),\n    _useState6 = _slicedToArray(_useState5, 2),\n    currentUser = _useState6[0],\n    setCurrentUser = _useState6[1];\n  var _useState7 = useState(false),\n    _useState8 = _slicedToArray(_useState7, 2),\n    isMenuVisible = _useState8[0],\n    setIsMenuVisible = _useState8[1];\n  var _useCustomAlert = useCustomAlert(),\n    alert = _useCustomAlert.alert,\n    showError = _useCustomAlert.showError,\n    hideAlert = _useCustomAlert.hideAlert;\n  useEffect(function () {\n    checkAuthStatus();\n  }, []);\n  var checkAuthStatus = function () {\n    var _ref = _asyncToGenerator(function* () {\n      try {\n        setCurrentScreen('login');\n        setIsAuthenticated(false);\n        setCurrentUser(null);\n        yield clearAuthData();\n      } catch (error) {\n        console.error('Erro ao verificar autenticação:', error);\n        showError('⚠️ Erro de Inicialização', 'Ocorreu um erro ao inicializar o aplicativo. Tente recarregar a página.');\n        yield clearAuthData();\n      }\n    });\n    return function checkAuthStatus() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n  var clearAuthData = function () {\n    var _ref2 = _asyncToGenerator(function* () {\n      yield Storage.removeItem('authToken');\n      yield Storage.removeItem('userType');\n      yield Storage.removeItem('currentUser');\n      apiService.clearToken();\n      setCurrentUser(null);\n      setIsAuthenticated(false);\n      setCurrentScreen('login');\n    });\n    return function clearAuthData() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n  var handleLogin = function () {\n    var _ref3 = _asyncToGenerator(function* (userData, userType) {\n      try {\n        var finalUserType = userType || userData.userType || 'STUDENT';\n        var response;\n        if (finalUserType === 'INSTITUTION') {\n          response = yield apiService.loginInstitution(userData.email, userData.password);\n        } else {\n          response = yield apiService.login(userData.email, userData.password, finalUserType);\n        }\n        if (response.success) {\n          var _response$data = response.data,\n            token = _response$data.token,\n            user = _response$data.user,\n            institution = _response$data.institution;\n          yield Storage.setItem('authToken', token);\n          yield Storage.setItem('userType', finalUserType);\n          yield Storage.setItem('currentUser', JSON.stringify(institution || user));\n          apiService.setToken(token);\n          setCurrentUser(institution || user);\n          setIsAuthenticated(true);\n          switch (finalUserType) {\n            case 'STUDENT':\n              setCurrentScreen('home');\n              break;\n            case 'TEACHER':\n              setCurrentScreen('teacherClasses');\n              break;\n            case 'INSTITUTION':\n              setCurrentScreen('institutionDashboard');\n              break;\n            default:\n              setCurrentScreen('home');\n          }\n        } else {\n          var errorMessage = response.message || 'Erro no login';\n          showError('❌ Erro no Login', errorMessage);\n          throw new Error(errorMessage);\n        }\n      } catch (error) {\n        console.error('Login error:', error);\n        if (error.message.includes('Failed to fetch')) {\n          showError('🌐 Erro de Conexão', 'Não foi possível conectar ao servidor. Verifique sua internet e tente novamente.');\n        } else if (error.message.includes('401') || error.message.includes('Unauthorized')) {\n          showError('🔐 Credenciais Inválidas', 'Email ou senha incorretos. Verifique seus dados e tente novamente.');\n        } else if (error.message.includes('500') || error.message.includes('Internal Server Error')) {\n          showError('⚠️ Erro do Servidor', 'Ocorreu um erro interno. Tente novamente em alguns minutos.');\n        } else {\n          showError('❌ Erro no Login', error.message || 'Ocorreu um erro inesperado. Tente novamente.');\n        }\n        throw error;\n      }\n    });\n    return function handleLogin(_x, _x2) {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n  var handleInstitutionLogin = function () {\n    var _ref4 = _asyncToGenerator(function* (institutionData, userType) {\n      try {\n        if (institutionData.id && institutionData.name) {\n          var token = typeof window !== 'undefined' ? localStorage.getItem('authToken') : null;\n          if (token) {\n            apiService.setToken(token);\n            yield Storage.setItem('authToken', token);\n          }\n          var institutionWithType = _objectSpread(_objectSpread({}, institutionData), {}, {\n            userType: 'INSTITUTION'\n          });\n          setCurrentUser(institutionWithType);\n          setIsAuthenticated(true);\n          setCurrentScreen('institutionDashboard');\n          return;\n        }\n        var response = yield apiService.loginInstitution(institutionData.email, institutionData.password);\n        if (response.success) {\n          yield Storage.setItem('authToken', response.data.token);\n          apiService.setToken(response.data.token);\n          var _institutionWithType = _objectSpread(_objectSpread({}, response.data.institution), {}, {\n            userType: 'INSTITUTION'\n          });\n          setCurrentUser(_institutionWithType);\n          setIsAuthenticated(true);\n          setCurrentScreen('institutionDashboard');\n        } else {\n          throw new Error(response.message || 'Erro no login da instituição');\n        }\n      } catch (error) {\n        console.error('Institution login error:', error);\n        throw error;\n      }\n    });\n    return function handleInstitutionLogin(_x3, _x4) {\n      return _ref4.apply(this, arguments);\n    };\n  }();\n  var handleRegister = function () {\n    var _ref5 = _asyncToGenerator(function* (userData) {\n      try {\n        var response = yield apiService.register(userData);\n        if (response.success) {\n          return {\n            success: true,\n            message: 'Estudante cadastrado com sucesso! Agora você pode fazer login.'\n          };\n        } else {\n          throw new Error(response.message || 'Erro no cadastro');\n        }\n      } catch (error) {\n        console.error('Register error:', error);\n        throw error;\n      }\n    });\n    return function handleRegister(_x5) {\n      return _ref5.apply(this, arguments);\n    };\n  }();\n  var handleTeacherRegister = function () {\n    var _ref6 = _asyncToGenerator(function* (userData) {\n      try {\n        var response = yield apiService.register(_objectSpread(_objectSpread({}, userData), {}, {\n          userType: 'TEACHER'\n        }));\n        if (response.success) {\n          return {\n            success: true,\n            message: 'Professor cadastrado com sucesso! Agora você pode fazer login.'\n          };\n        } else {\n          throw new Error(response.message || 'Erro no cadastro do professor');\n        }\n      } catch (error) {\n        console.error('Teacher register error:', error);\n        throw error;\n      }\n    });\n    return function handleTeacherRegister(_x6) {\n      return _ref6.apply(this, arguments);\n    };\n  }();\n  var handleInstitutionRegister = function () {\n    var _ref7 = _asyncToGenerator(function* (institutionData) {\n      try {\n        var response = yield apiService.registerInstitution(institutionData);\n        if (response.success) {\n          return {\n            success: true,\n            message: 'Instituição cadastrada com sucesso! Agora você pode fazer login.'\n          };\n        } else {\n          throw new Error(response.message || 'Erro no cadastro da instituição');\n        }\n      } catch (error) {\n        console.error('Institution register error:', error);\n        throw error;\n      }\n    });\n    return function handleInstitutionRegister(_x7) {\n      return _ref7.apply(this, arguments);\n    };\n  }();\n  var handleLogout = function () {\n    var _ref8 = _asyncToGenerator(function* () {\n      try {\n        yield apiService.logout();\n      } catch (error) {\n        console.error('Logout error:', error);\n      } finally {\n        yield clearAuthData();\n        setCurrentScreen('login');\n      }\n    });\n    return function handleLogout() {\n      return _ref8.apply(this, arguments);\n    };\n  }();\n  var handleNavigate = function handleNavigate(screen) {\n    var params = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n    if (screen === 'logout') {\n      handleLogout();\n    } else {\n      if (params) {\n        window.navigationParams = params;\n      } else {\n        window.navigationParams = null;\n      }\n      setCurrentScreen(screen);\n      setIsMenuVisible(false);\n    }\n  };\n  var handleNavigateToRegister = function handleNavigateToRegister() {\n    setCurrentScreen('register');\n  };\n  var handleNavigateToTeacherRegister = function handleNavigateToTeacherRegister() {\n    setCurrentScreen('teacherRegister');\n  };\n  var handleNavigateToInstitutionRegister = function handleNavigateToInstitutionRegister() {\n    setCurrentScreen('institutionRegister');\n  };\n  var handleNavigateToInstitutionLogin = function handleNavigateToInstitutionLogin() {\n    setCurrentScreen('institutionLogin');\n  };\n  var handleNavigateToLogin = function handleNavigateToLogin() {\n    setCurrentScreen('login');\n  };\n  var renderScreen = function renderScreen() {\n    switch (currentScreen) {\n      case 'login':\n        return _jsx(LoginScreen, {\n          isMenuVisible: isMenuVisible,\n          setIsMenuVisible: setIsMenuVisible,\n          onNavigate: handleNavigate,\n          onLogin: handleLogin,\n          onNavigateToRegister: handleNavigateToRegister,\n          onNavigateToTeacherRegister: handleNavigateToTeacherRegister,\n          onNavigateToInstitutionRegister: handleNavigateToInstitutionRegister\n        });\n      case 'register':\n        return _jsx(RegisterScreen, {\n          isMenuVisible: isMenuVisible,\n          setIsMenuVisible: setIsMenuVisible,\n          onNavigate: handleNavigate,\n          onRegister: handleRegister,\n          onNavigateToLogin: handleNavigateToLogin\n        });\n      case 'teacherRegister':\n        return _jsx(TeacherRegisterScreen, {\n          onRegister: handleTeacherRegister,\n          onNavigateToLogin: handleNavigateToLogin\n        });\n      case 'institutionRegister':\n        return _jsx(InstitutionRegisterScreen, {\n          onRegister: handleInstitutionRegister,\n          onNavigateToLogin: handleNavigateToLogin,\n          onNavigate: handleNavigate\n        });\n      case 'institutionLogin':\n        return _jsx(InstitutionLoginScreen, {\n          onNavigate: handleNavigate,\n          onLogin: handleInstitutionLogin\n        });\n      case 'institutionDashboard':\n        return _jsx(InstitutionDashboardScreen, {\n          isMenuVisible: isMenuVisible,\n          setIsMenuVisible: setIsMenuVisible,\n          onNavigate: handleNavigate,\n          currentUser: currentUser,\n          onLogout: handleLogout\n        });\n      case 'home':\n        return _jsx(HomeScreen, {\n          isMenuVisible: isMenuVisible,\n          setIsMenuVisible: setIsMenuVisible,\n          onNavigate: handleNavigate,\n          currentUser: currentUser,\n          onLogout: handleLogout\n        });\n      case 'myClass':\n        return _jsx(MyClassScreen, {\n          isMenuVisible: isMenuVisible,\n          setIsMenuVisible: setIsMenuVisible,\n          onNavigate: handleNavigate,\n          currentUser: currentUser,\n          onLogout: handleLogout\n        });\n      case 'studentScores':\n        return _jsx(StudentScoresScreen, {\n          isMenuVisible: isMenuVisible,\n          setIsMenuVisible: setIsMenuVisible,\n          onNavigate: handleNavigate,\n          currentUser: currentUser,\n          onLogout: handleLogout\n        });\n      case 'attendance':\n        return _jsx(AttendanceScreen, {\n          isMenuVisible: isMenuVisible,\n          setIsMenuVisible: setIsMenuVisible,\n          onNavigate: handleNavigate,\n          currentUser: currentUser,\n          onLogout: handleLogout\n        });\n      case 'achievements':\n        return _jsx(AchievementsScreen, {\n          isMenuVisible: isMenuVisible,\n          setIsMenuVisible: setIsMenuVisible,\n          onNavigate: handleNavigate,\n          currentUser: currentUser,\n          onLogout: handleLogout\n        });\n      case 'medals':\n        return _jsx(MedalsScreen, {\n          isMenuVisible: isMenuVisible,\n          setIsMenuVisible: setIsMenuVisible,\n          onNavigate: handleNavigate,\n          currentUser: currentUser,\n          onLogout: handleLogout\n        });\n      case 'ranking':\n        return _jsx(RankingScreen, {\n          isMenuVisible: isMenuVisible,\n          setIsMenuVisible: setIsMenuVisible,\n          onNavigate: handleNavigate,\n          currentUser: currentUser,\n          onLogout: handleLogout\n        });\n      case 'tutorial':\n        return _jsx(TutorialScreen, {\n          isMenuVisible: isMenuVisible,\n          setIsMenuVisible: setIsMenuVisible,\n          onNavigate: handleNavigate,\n          currentUser: currentUser,\n          onLogout: handleLogout\n        });\n      case 'chat':\n        return _jsx(ChatScreen, {\n          isMenuVisible: isMenuVisible,\n          setIsMenuVisible: setIsMenuVisible,\n          onNavigate: handleNavigate,\n          currentUser: currentUser,\n          onLogout: handleLogout\n        });\n      case 'teacherClasses':\n        return _jsx(TeacherClassesScreen, {\n          isMenuVisible: isMenuVisible,\n          setIsMenuVisible: setIsMenuVisible,\n          onNavigate: handleNavigate,\n          currentUser: currentUser,\n          onLogout: handleLogout\n        });\n      case 'myClasses':\n        return _jsx(MyClassesScreen, {\n          isMenuVisible: isMenuVisible,\n          setIsMenuVisible: setIsMenuVisible,\n          onNavigate: handleNavigate,\n          currentUser: currentUser,\n          onLogout: handleLogout\n        });\n      case 'teacherSchedule':\n        return _jsx(TeacherScheduleScreen, {\n          isMenuVisible: isMenuVisible,\n          setIsMenuVisible: setIsMenuVisible,\n          onNavigate: handleNavigate,\n          currentUser: currentUser,\n          onLogout: handleLogout\n        });\n      case 'classManagement':\n        return _jsx(ClassManagementScreen, {\n          isMenuVisible: isMenuVisible,\n          setIsMenuVisible: setIsMenuVisible,\n          onNavigate: handleNavigate,\n          currentUser: currentUser,\n          onLogout: handleLogout\n        });\n      case 'createClass':\n        return _jsx(CreateClassScreen, {\n          isMenuVisible: isMenuVisible,\n          setIsMenuVisible: setIsMenuVisible,\n          onNavigate: handleNavigate,\n          currentUser: currentUser,\n          onLogout: handleLogout\n        });\n      case 'class':\n        return _jsx(ClassScreen, {\n          isMenuVisible: isMenuVisible,\n          setIsMenuVisible: setIsMenuVisible,\n          onNavigate: handleNavigate,\n          currentUser: currentUser,\n          onLogout: handleLogout\n        });\n      case 'teacherProfile':\n        return _jsx(TeacherClassesScreen, {\n          isMenuVisible: isMenuVisible,\n          setIsMenuVisible: setIsMenuVisible,\n          onNavigate: handleNavigate,\n          currentUser: currentUser,\n          onLogout: handleLogout\n        });\n      default:\n        return _jsx(LoginScreen, {\n          isMenuVisible: isMenuVisible,\n          setIsMenuVisible: setIsMenuVisible,\n          onNavigate: handleNavigate,\n          onLogin: handleLogin,\n          onNavigateToRegister: handleNavigateToRegister,\n          onNavigateToTeacherRegister: handleNavigateToTeacherRegister,\n          onNavigateToInstitutionRegister: handleNavigateToInstitutionRegister\n        });\n    }\n  };\n  return _jsxs(_Fragment, {\n    children: [_jsx(StatusBar, {\n      style: \"auto\"\n    }), renderScreen(), _jsx(CustomAlert, {\n      visible: alert.visible,\n      title: alert.title,\n      message: alert.message,\n      type: alert.type,\n      onClose: hideAlert\n    })]\n  });\n}","map":{"version":3,"names":["React","useState","useEffect","StatusBar","Storage","apiService","useCustomAlert","CustomAlert","LoginScreen","HomeScreen","MyClassScreen","StudentScoresScreen","AttendanceScreen","RankingScreen","TutorialScreen","ChatScreen","RegisterScreen","TeacherRegisterScreen","InstitutionRegisterScreen","InstitutionLoginScreen","InstitutionDashboardScreen","TeacherClassesScreen","MyClassesScreen","TeacherScheduleScreen","ClassManagementScreen","CreateClassScreen","ClassScreen","AchievementsScreen","MedalsScreen","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","App","_useState","_useState2","_slicedToArray","currentScreen","setCurrentScreen","_useState3","_useState4","isAuthenticated","setIsAuthenticated","_useState5","_useState6","currentUser","setCurrentUser","_useState7","_useState8","isMenuVisible","setIsMenuVisible","_useCustomAlert","alert","showError","hideAlert","checkAuthStatus","_ref","_asyncToGenerator","clearAuthData","error","console","apply","arguments","_ref2","removeItem","clearToken","handleLogin","_ref3","userData","userType","finalUserType","response","loginInstitution","email","password","login","success","_response$data","data","token","user","institution","setItem","JSON","stringify","setToken","errorMessage","message","Error","includes","_x","_x2","handleInstitutionLogin","_ref4","institutionData","id","name","window","localStorage","getItem","institutionWithType","_objectSpread","_x3","_x4","handleRegister","_ref5","register","_x5","handleTeacherRegister","_ref6","_x6","handleInstitutionRegister","_ref7","registerInstitution","_x7","handleLogout","_ref8","logout","handleNavigate","screen","params","length","undefined","navigationParams","handleNavigateToRegister","handleNavigateToTeacherRegister","handleNavigateToInstitutionRegister","handleNavigateToInstitutionLogin","handleNavigateToLogin","renderScreen","onNavigate","onLogin","onNavigateToRegister","onNavigateToTeacherRegister","onNavigateToInstitutionRegister","onRegister","onNavigateToLogin","onLogout","children","style","visible","title","type","onClose"],"sources":["C:/Users/lukag/OneDrive/Área de Trabalho/Muvz_App/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { StatusBar } from 'expo-status-bar';\r\nimport Storage from './utils/storage'; // Custom storage wrapper\r\nimport apiService from './services/apiService';\r\nimport useCustomAlert from './hooks/useCustomAlert';\r\nimport CustomAlert from './components/CustomAlert';\r\nimport LoginScreen from './screens/auth/LoginScreen';\r\nimport HomeScreen from './screens/student/HomeScreen';\r\nimport MyClassScreen from './screens/student/MyClassScreen';\r\nimport StudentScoresScreen from './screens/student/StudentScoresScreen';\r\nimport AttendanceScreen from './screens/student/AttendanceScreen';\r\nimport RankingScreen from './screens/student/RankingScreen';\r\nimport TutorialScreen from './screens/student/TutorialScreen';\r\nimport ChatScreen from './screens/student/ChatScreen';\r\nimport RegisterScreen from './screens/auth/RegisterScreen';\r\nimport TeacherRegisterScreen from './screens/auth/TeacherRegisterScreen';\r\nimport InstitutionRegisterScreen from './screens/auth/InstitutionRegisterScreen';\r\nimport InstitutionLoginScreen from './screens/auth/InstitutionLoginScreen';\r\nimport InstitutionDashboardScreen from './screens/institution/InstitutionDashboardScreen';\r\nimport TeacherClassesScreen from './screens/teacher/TeacherClassesScreen';\r\nimport MyClassesScreen from './screens/teacher/MyClassesScreen';\r\nimport TeacherScheduleScreen from './screens/teacher/TeacherScheduleScreen';\r\nimport ClassManagementScreen from './screens/teacher/ClassManagementScreen';\r\nimport CreateClassScreen from './screens/teacher/CreateClassScreen';\r\nimport ClassScreen from './screens/teacher/ClassScreen';\r\nimport AchievementsScreen from './screens/student/AchievementsScreen';\r\nimport MedalsScreen from './screens/student/MedalsScreen';\r\n\r\nexport default function App() {\r\n  const [currentScreen, setCurrentScreen] = useState('login');\r\n  const [isAuthenticated, setIsAuthenticated] = useState(false);\r\n  const [currentUser, setCurrentUser] = useState(null);\r\n  const [isMenuVisible, setIsMenuVisible] = useState(false);\r\n  const { alert, showError, hideAlert } = useCustomAlert();\r\n\r\n  // Verificar status de autenticação ao carregar o app\r\n  useEffect(() => {\r\n    checkAuthStatus();\r\n  }, []);\r\n\r\n  const checkAuthStatus = async () => {\r\n    try {\r\n      // Sempre iniciar na página de login\r\n      setCurrentScreen('login');\r\n      setIsAuthenticated(false);\r\n      setCurrentUser(null);\r\n      \r\n      // Limpar dados de autenticação antigos\r\n      await clearAuthData();\r\n    } catch (error) {\r\n      console.error('Erro ao verificar autenticação:', error);\r\n      showError('⚠️ Erro de Inicialização', 'Ocorreu um erro ao inicializar o aplicativo. Tente recarregar a página.');\r\n      await clearAuthData();\r\n    }\r\n  };\r\n\r\n  const clearAuthData = async () => {\r\n    await Storage.removeItem('authToken');\r\n    await Storage.removeItem('userType');\r\n    await Storage.removeItem('currentUser');\r\n    apiService.clearToken();\r\n    setCurrentUser(null);\r\n    setIsAuthenticated(false);\r\n    setCurrentScreen('login');\r\n  };\r\n\r\n  const handleLogin = async (userData, userType) => {\r\n    try {\r\n      // Garantir que userType não seja undefined\r\n      const finalUserType = userType || userData.userType || 'STUDENT';\r\n      \r\n      let response;\r\n      \r\n      // Se for instituição, usar a API específica de login de instituição\r\n      if (finalUserType === 'INSTITUTION') {\r\n        response = await apiService.loginInstitution(userData.email, userData.password);\r\n      } else {\r\n        response = await apiService.login(userData.email, userData.password, finalUserType);\r\n      }\r\n      \r\n      \r\n      if (response.success) {\r\n        const { token, user, institution } = response.data;\r\n        \r\n        // Salvar dados de autenticação\r\n        await Storage.setItem('authToken', token);\r\n        await Storage.setItem('userType', finalUserType);\r\n        await Storage.setItem('currentUser', JSON.stringify(institution || user));\r\n        \r\n        // Configurar token no serviço\r\n        apiService.setToken(token);\r\n        \r\n        setCurrentUser(institution || user);\r\n        setIsAuthenticated(true);\r\n        \r\n        // Navegar para a tela apropriada\r\n        switch (finalUserType) {\r\n          case 'STUDENT':\r\n            setCurrentScreen('home');\r\n            break;\r\n          case 'TEACHER':\r\n            setCurrentScreen('teacherClasses');\r\n            break;\r\n          case 'INSTITUTION':\r\n            setCurrentScreen('institutionDashboard');\r\n            break;\r\n          default:\r\n            setCurrentScreen('home');\r\n        }\r\n      } else {\r\n        // Mostrar erro específico baseado na resposta\r\n        const errorMessage = response.message || 'Erro no login';\r\n        showError('❌ Erro no Login', errorMessage);\r\n        throw new Error(errorMessage);\r\n      }\r\n    } catch (error) {\r\n      console.error('Login error:', error);\r\n      \r\n      // Tratar diferentes tipos de erro\r\n      if (error.message.includes('Failed to fetch')) {\r\n        showError('🌐 Erro de Conexão', 'Não foi possível conectar ao servidor. Verifique sua internet e tente novamente.');\r\n      } else if (error.message.includes('401') || error.message.includes('Unauthorized')) {\r\n        showError('🔐 Credenciais Inválidas', 'Email ou senha incorretos. Verifique seus dados e tente novamente.');\r\n      } else if (error.message.includes('500') || error.message.includes('Internal Server Error')) {\r\n        showError('⚠️ Erro do Servidor', 'Ocorreu um erro interno. Tente novamente em alguns minutos.');\r\n      } else {\r\n        showError('❌ Erro no Login', error.message || 'Ocorreu um erro inesperado. Tente novamente.');\r\n      }\r\n      \r\n      throw error;\r\n    }\r\n  };\r\n\r\n  const handleInstitutionLogin = async (institutionData, userType) => {\r\n    try {\r\n      // Se institutionData já contém os dados da instituição (vem do login bem-sucedido)\r\n      if (institutionData.id && institutionData.name) {\r\n        // Configurar token do localStorage\r\n        const token = typeof window !== 'undefined' ? localStorage.getItem('authToken') : null;\r\n        if (token) {\r\n          apiService.setToken(token);\r\n          // Também salvar no Storage para consistência\r\n          await Storage.setItem('authToken', token);\r\n        }\r\n        \r\n        // Adicionar userType ao objeto da instituição\r\n        const institutionWithType = {\r\n          ...institutionData,\r\n          userType: 'INSTITUTION'\r\n        };\r\n        \r\n        setCurrentUser(institutionWithType);\r\n        setIsAuthenticated(true);\r\n        setCurrentScreen('institutionDashboard');\r\n        return;\r\n      }\r\n      \r\n      // Se institutionData contém email e senha (login inicial)\r\n      const response = await apiService.loginInstitution(institutionData.email, institutionData.password);\r\n      if (response.success) {\r\n        // Salvar token\r\n        await Storage.setItem('authToken', response.data.token);\r\n        apiService.setToken(response.data.token);\r\n        \r\n        // Adicionar userType ao objeto da instituição\r\n        const institutionWithType = {\r\n          ...response.data.institution,\r\n          userType: 'INSTITUTION'\r\n        };\r\n        \r\n        setCurrentUser(institutionWithType);\r\n        setIsAuthenticated(true);\r\n        setCurrentScreen('institutionDashboard');\r\n      } else {\r\n        throw new Error(response.message || 'Erro no login da instituição');\r\n      }\r\n    } catch (error) {\r\n      console.error('Institution login error:', error);\r\n      throw error;\r\n    }\r\n  };\r\n\r\n  const handleRegister = async (userData) => {\r\n    try {\r\n      const response = await apiService.register(userData);\r\n      \r\n      if (response.success) {\r\n        // Retornar sucesso sem fazer login automático\r\n        return { success: true, message: 'Estudante cadastrado com sucesso! Agora você pode fazer login.' };\r\n      } else {\r\n        throw new Error(response.message || 'Erro no cadastro');\r\n      }\r\n    } catch (error) {\r\n      console.error('Register error:', error);\r\n      throw error;\r\n    }\r\n  };\r\n\r\n  const handleTeacherRegister = async (userData) => {\r\n    try {\r\n      const response = await apiService.register({ ...userData, userType: 'TEACHER' });\r\n      \r\n      if (response.success) {\r\n        // Retornar sucesso sem fazer login automático\r\n        return { success: true, message: 'Professor cadastrado com sucesso! Agora você pode fazer login.' };\r\n      } else {\r\n        throw new Error(response.message || 'Erro no cadastro do professor');\r\n      }\r\n    } catch (error) {\r\n      console.error('Teacher register error:', error);\r\n      throw error;\r\n    }\r\n  };\r\n\r\n  const handleInstitutionRegister = async (institutionData) => {\r\n    try {\r\n      const response = await apiService.registerInstitution(institutionData);\r\n      \r\n      if (response.success) {\r\n        // Retornar sucesso sem fazer login automático\r\n        return { success: true, message: 'Instituição cadastrada com sucesso! Agora você pode fazer login.' };\r\n      } else {\r\n        throw new Error(response.message || 'Erro no cadastro da instituição');\r\n      }\r\n    } catch (error) {\r\n      console.error('Institution register error:', error);\r\n      throw error;\r\n    }\r\n  };\r\n\r\n  const handleLogout = async () => {\r\n    try {\r\n      await apiService.logout();\r\n    } catch (error) {\r\n      console.error('Logout error:', error);\r\n    } finally {\r\n      await clearAuthData();\r\n      setCurrentScreen('login');\r\n    }\r\n  };\r\n\r\n  const handleNavigate = (screen, params = null) => {\r\n    if (screen === 'logout') {\r\n      handleLogout();\r\n    } else {\r\n      // Armazenar parâmetros de navegação\r\n      if (params) {\r\n        window.navigationParams = params;\r\n      } else {\r\n        window.navigationParams = null;\r\n      }\r\n      setCurrentScreen(screen);\r\n      setIsMenuVisible(false);\r\n    }\r\n  };\r\n\r\n  const handleNavigateToRegister = () => {\r\n    setCurrentScreen('register');\r\n  };\r\n\r\n  const handleNavigateToTeacherRegister = () => {\r\n    setCurrentScreen('teacherRegister');\r\n  };\r\n\r\n  const handleNavigateToInstitutionRegister = () => {\r\n    setCurrentScreen('institutionRegister');\r\n  };\r\n\r\n  const handleNavigateToInstitutionLogin = () => {\r\n    setCurrentScreen('institutionLogin');\r\n  };\r\n\r\n  const handleNavigateToLogin = () => {\r\n    setCurrentScreen('login');\r\n  };\r\n\r\n  const renderScreen = () => {\r\n    switch (currentScreen) {\r\n      case 'login':\r\n        return (\r\n          <LoginScreen\r\n            isMenuVisible={isMenuVisible}\r\n            setIsMenuVisible={setIsMenuVisible}\r\n            onNavigate={handleNavigate}\r\n            onLogin={handleLogin}\r\n            onNavigateToRegister={handleNavigateToRegister}\r\n            onNavigateToTeacherRegister={handleNavigateToTeacherRegister}\r\n            onNavigateToInstitutionRegister={handleNavigateToInstitutionRegister}\r\n          />\r\n        );\r\n      case 'register':\r\n        return (\r\n          <RegisterScreen\r\n            isMenuVisible={isMenuVisible}\r\n            setIsMenuVisible={setIsMenuVisible}\r\n            onNavigate={handleNavigate}\r\n            onRegister={handleRegister}\r\n            onNavigateToLogin={handleNavigateToLogin}\r\n          />\r\n        );\r\n      case 'teacherRegister':\r\n        return (\r\n          <TeacherRegisterScreen\r\n            onRegister={handleTeacherRegister}\r\n            onNavigateToLogin={handleNavigateToLogin}\r\n          />\r\n        );\r\n      case 'institutionRegister':\r\n        return (\r\n          <InstitutionRegisterScreen\r\n            onRegister={handleInstitutionRegister}\r\n            onNavigateToLogin={handleNavigateToLogin}\r\n            onNavigate={handleNavigate}\r\n          />\r\n        );\r\n      case 'institutionLogin':\r\n        return (\r\n          <InstitutionLoginScreen\r\n            onNavigate={handleNavigate}\r\n            onLogin={handleInstitutionLogin}\r\n          />\r\n        );\r\n      case 'institutionDashboard':\r\n        return (\r\n          <InstitutionDashboardScreen\r\n            isMenuVisible={isMenuVisible}\r\n            setIsMenuVisible={setIsMenuVisible}\r\n            onNavigate={handleNavigate}\r\n            currentUser={currentUser}\r\n            onLogout={handleLogout}\r\n          />\r\n        );\r\n      case 'home':\r\n        return (\r\n          <HomeScreen\r\n            isMenuVisible={isMenuVisible}\r\n            setIsMenuVisible={setIsMenuVisible}\r\n            onNavigate={handleNavigate}\r\n            currentUser={currentUser}\r\n            onLogout={handleLogout}\r\n          />\r\n        );\r\n      case 'myClass':\r\n        return (\r\n          <MyClassScreen\r\n            isMenuVisible={isMenuVisible}\r\n            setIsMenuVisible={setIsMenuVisible}\r\n            onNavigate={handleNavigate}\r\n            currentUser={currentUser}\r\n            onLogout={handleLogout}\r\n          />\r\n        );\r\n      case 'studentScores':\r\n        return (\r\n          <StudentScoresScreen\r\n            isMenuVisible={isMenuVisible}\r\n            setIsMenuVisible={setIsMenuVisible}\r\n            onNavigate={handleNavigate}\r\n            currentUser={currentUser}\r\n            onLogout={handleLogout}\r\n          />\r\n        );\r\n      case 'attendance':\r\n        return (\r\n          <AttendanceScreen\r\n            isMenuVisible={isMenuVisible}\r\n            setIsMenuVisible={setIsMenuVisible}\r\n            onNavigate={handleNavigate}\r\n            currentUser={currentUser}\r\n            onLogout={handleLogout}\r\n          />\r\n        );\r\n      case 'achievements':\r\n        return (\r\n          <AchievementsScreen\r\n            isMenuVisible={isMenuVisible}\r\n            setIsMenuVisible={setIsMenuVisible}\r\n            onNavigate={handleNavigate}\r\n            currentUser={currentUser}\r\n            onLogout={handleLogout}\r\n          />\r\n        );\r\n      case 'medals':\r\n        return (\r\n          <MedalsScreen\r\n            isMenuVisible={isMenuVisible}\r\n            setIsMenuVisible={setIsMenuVisible}\r\n            onNavigate={handleNavigate}\r\n            currentUser={currentUser}\r\n            onLogout={handleLogout}\r\n          />\r\n        );\r\n      case 'ranking':\r\n        return (\r\n          <RankingScreen\r\n            isMenuVisible={isMenuVisible}\r\n            setIsMenuVisible={setIsMenuVisible}\r\n            onNavigate={handleNavigate}\r\n            currentUser={currentUser}\r\n            onLogout={handleLogout}\r\n          />\r\n        );\r\n      case 'tutorial':\r\n        return (\r\n          <TutorialScreen\r\n            isMenuVisible={isMenuVisible}\r\n            setIsMenuVisible={setIsMenuVisible}\r\n            onNavigate={handleNavigate}\r\n            currentUser={currentUser}\r\n            onLogout={handleLogout}\r\n          />\r\n        );\r\n      case 'chat':\r\n        return (\r\n          <ChatScreen\r\n            isMenuVisible={isMenuVisible}\r\n            setIsMenuVisible={setIsMenuVisible}\r\n            onNavigate={handleNavigate}\r\n            currentUser={currentUser}\r\n            onLogout={handleLogout}\r\n          />\r\n        );\r\n      case 'teacherClasses':\r\n        return (\r\n          <TeacherClassesScreen\r\n            isMenuVisible={isMenuVisible}\r\n            setIsMenuVisible={setIsMenuVisible}\r\n            onNavigate={handleNavigate}\r\n            currentUser={currentUser}\r\n            onLogout={handleLogout}\r\n          />\r\n        );\r\n      case 'myClasses':\r\n        return (\r\n          <MyClassesScreen\r\n            isMenuVisible={isMenuVisible}\r\n            setIsMenuVisible={setIsMenuVisible}\r\n            onNavigate={handleNavigate}\r\n            currentUser={currentUser}\r\n            onLogout={handleLogout}\r\n          />\r\n        );\r\n      case 'teacherSchedule':\r\n        return (\r\n          <TeacherScheduleScreen\r\n            isMenuVisible={isMenuVisible}\r\n            setIsMenuVisible={setIsMenuVisible}\r\n            onNavigate={handleNavigate}\r\n            currentUser={currentUser}\r\n            onLogout={handleLogout}\r\n          />\r\n        );\r\n      case 'classManagement':\r\n        return (\r\n          <ClassManagementScreen\r\n            isMenuVisible={isMenuVisible}\r\n            setIsMenuVisible={setIsMenuVisible}\r\n            onNavigate={handleNavigate}\r\n            currentUser={currentUser}\r\n            onLogout={handleLogout}\r\n          />\r\n        );\r\n      case 'createClass':\r\n        return (\r\n          <CreateClassScreen\r\n            isMenuVisible={isMenuVisible}\r\n            setIsMenuVisible={setIsMenuVisible}\r\n            onNavigate={handleNavigate}\r\n            currentUser={currentUser}\r\n            onLogout={handleLogout}\r\n          />\r\n        );\r\n      case 'class':\r\n        return (\r\n          <ClassScreen\r\n            isMenuVisible={isMenuVisible}\r\n            setIsMenuVisible={setIsMenuVisible}\r\n            onNavigate={handleNavigate}\r\n            currentUser={currentUser}\r\n            onLogout={handleLogout}\r\n          />\r\n        );\r\n      case 'teacherProfile':\r\n        return (\r\n          <TeacherClassesScreen\r\n            isMenuVisible={isMenuVisible}\r\n            setIsMenuVisible={setIsMenuVisible}\r\n            onNavigate={handleNavigate}\r\n            currentUser={currentUser}\r\n            onLogout={handleLogout}\r\n          />\r\n        );\r\n      default:\r\n        return (\r\n          <LoginScreen\r\n            isMenuVisible={isMenuVisible}\r\n            setIsMenuVisible={setIsMenuVisible}\r\n            onNavigate={handleNavigate}\r\n            onLogin={handleLogin}\r\n            onNavigateToRegister={handleNavigateToRegister}\r\n            onNavigateToTeacherRegister={handleNavigateToTeacherRegister}\r\n            onNavigateToInstitutionRegister={handleNavigateToInstitutionRegister}\r\n          />\r\n        );\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <StatusBar style=\"auto\" />\r\n      {renderScreen()}\r\n      <CustomAlert\r\n        visible={alert.visible}\r\n        title={alert.title}\r\n        message={alert.message}\r\n        type={alert.type}\r\n        onClose={hideAlert}\r\n      />\r\n    </>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}